<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ref</title>
    <script type="text/javascript" src="./vue.js"></script>
</head>
<body>
    <div id="root">
       <!-- <div ref="hello"
            @click="handleDivClick"
       >
        Hello
       </div> -->
       

       <!-- <button-counter @change="handleChange"></button-counter>
       <button-counter @change="handleChange"></button-counter> -->
       <button-counter ref="btn1" @change="handleChange"></button-counter>
       <button-counter ref="btn2" @change="handleChange"></button-counter>
       <div>Total: {{total}}</div>
    </div>

    <script type="text/javascript">
       Vue.component('button-counter', {
          data() {
            return {
                count: 0,
            }
          },
          template: '<button @click="handleBtnClick">{{count}}</button>',
          methods: {
            handleBtnClick: function () {
                this.count ++;
                this.$emit('change')
            }
          }
       })
       var vm = new Vue({
         el: '#root',
         data() {
            return {
                total: 0,
            }
         },
         methods: {
        //    handleChange(value) {
        //      this.total = this.total + value;
        //    }
        handleChange() {
             this.total = this.$refs.btn1.count + this.$refs.btn2.count;
        }
         },
       })
    </script>
</body>
</html>